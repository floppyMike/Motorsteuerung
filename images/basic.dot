digraph G
{
    splines=curved;
    node [shape = record];
    compound = true;

    Defines;
    Layout;

    subgraph cluster_programm 
    {
        label = "Programm"

        subgraph cluster_setup 
        {
            label = "Setup";
            rankdir = LR;
            rank = same;
            {
                "Pins init"; "PWM init"; "Lüfter init";
            }
        }

        subgraph cluster_loop
        {
            label = "Loop";
            rankdir = LR;
            rank = same;
            {
                "Gas auslesen"; "PWM stellen"; "Temperatur auslesen"; "Lüfter stellen";
            }
        }
    }

    "Pins init" -> "PWM init" -> "Lüfter init";
    "Gas auslesen" -> "PWM stellen" -> "Temperatur auslesen" -> "Lüfter stellen";

    "Pins init" -> "Gas auslesen" [style = invis];
    Defines -> "Lüfter init" [style = invis];
    Layout -> "Lüfter init" [style = invis];
}